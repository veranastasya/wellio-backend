<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Client Detail</title>
</head>
<body>
  <h1>{{ client.name }}'s Profile</h1>
  <p><strong>Age:</strong> {{ client.age }}</p>
  <p><strong>Height:</strong> {{ client.height }} cm</p>
  <p><strong>Weight:</strong> {{ client.weight }} kg</p>
  <p><strong>Activity Level:</strong> {{ client.activity }}</p>
  <p><strong>Desired Weight:</strong> {{ client.desired_weight }} kg</p>
  
  <h2>Upload a Meal</h2>
  <form method="post" enctype="multipart/form-data">
    <input type="file" name="file" accept="image/*" required>
    <button type="submit">Upload Meal</button>
  </form>
  
  <h2>Meals</h2>
  {% for meal in client.meals %}
    <div style="margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px;">
      <img src="{{ url_for('static', filename=meal.image) }}" alt="Meal Photo" width="300"><br>
      <h3>Macronutrient Analysis</h3>
      <ul>
        {% for key, value in meal.analysis.items() %}
          <li>{{ key }}: {{ value }}</li>
        {% endfor %}
      </ul>
      <h3>Recommendation</h3>
      <p>{{ meal.recommendation }}</p>
    </div>
  {% else %}
    <p>No meals uploaded yet.</p>
  {% endfor %}
  
  <a href="{{ url_for('list_clients') }}">Back to Clients</a>
</body>
</html>
